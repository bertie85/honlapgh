<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Web site created using create-react-app" />
  <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
    integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous" />

  <script src="https://unpkg.com/react/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-bootstrap@next/dist/react-bootstrap.min.js" crossorigin></script>

  <script>var Alert = ReactBootstrap.Alert;</script>
  <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
  <title>Gondviselés Háza</title>
</head>

<body>
  <div id="root" class="App"></div>
  <noscript>You need to enable JavaScript to run this app.</noscript>
</body>

<script>
  const checkScrollSpeed = (function (settings) {
    settings = settings || {};

    let lastPos, newPos, timer, delta,
      delay = settings.delay || 50; // in "ms" (higher means lower fidelity )

    function clear() {
      lastPos = null;
      delta = 0;
    }

    clear();

    return function () {
      newPos = window.scrollY;

      if (lastPos != null) { // && newPos < maxScroll
        delta = newPos - lastPos;
      }

      lastPos = newPos;
      clearTimeout(timer);
      timer = setTimeout(clear, delay);

      return delta;
    };
  })();

  const getImgScroll = (scrollY) => {
    return Math.round(scrollY + Math.sqrt(scrollY));
  }

  const getDelay = () => {
    // TODO: slow it down, once it starts to reach the top or the bottom
    return Math.round(100 + Math.abs(Math.sqrt(checkScrollSpeed())));
  }

  window.onscroll = (e) => {
    const logo = document.getElementById("App-logo-page");
    const calculatedScroll = getImgScroll(window.scrollY);
    const delay = getDelay();
    const timer = setTimeout(() => {
      logo.style.top = (calculatedScroll <= 70 ? 70 : calculatedScroll) + "px";
    }, delay);
  }
</script>

</html>
